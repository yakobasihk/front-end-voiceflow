/* eslint-disable no-template-curly-in-string */
module.exports = {
  release: {
    branch: 'master',
  },
  plugins: [
    '@semantic-release/commit-analyzer',
    '@semantic-release/release-notes-generator',
    '@semantic-release/npm',
    '@semantic-release/github',
    [
      '@semantic-release/exec',
      {
        verifyConditionsCmd: '[ -n "$SENTRY_PROJECT" ] && [ -n "$SENTRY_ORG" ] && [ -n "$SENTRY_AUTH_TOKEN" ]',
        successCmd:
          'npx @sentry/cli@1 releases new --finalize "${nextRelease.version}"' +
          ' && npx @sentry/cli@1 releases set-commits "${nextRelease.version}" --auto',
      },
    ],
  ],
};
